<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช - ุฑููุงูุง</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="../css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Admin Sidebar -->
    <nav class="admin-sidebar">
        <div class="admin-brand">
            <h2>๐น ุฑููุงูุง</h2>
            <small>ููุญุฉ ุงูุชุญูู</small>
        </div>
        
        <ul class="sidebar-menu">
            <li class="menu-item">
                <a href="dashboard.html" class="menu-link">
                    <span class="menu-icon">๐</span>
                    <span class="menu-text">ููุญุฉ ุงูุชุญูู</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="products.html" class="menu-link active">
                    <span class="menu-icon">๐น</span>
                    <span class="menu-text">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="orders.html" class="menu-link">
                    <span class="menu-icon">๐ฆ</span>
                    <span class="menu-text">ุงูุทูุจุงุช</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="customers.html" class="menu-link">
                    <span class="menu-icon">๐ฅ</span>
                    <span class="menu-text">ุงูุนููุงุก</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="analytics.html" class="menu-link">
                    <span class="menu-icon">๐</span>
                    <span class="menu-text">ุงูุชูุงุฑูุฑ</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="settings.html" class="menu-link">
                    <span class="menu-icon">โ๏ธ</span>
                    <span class="menu-text">ุงูุฅุนุฏุงุฏุงุช</span>
                </a>
            </li>
        </ul>
        
        <div class="sidebar-footer">
            <button id="logoutBtn" class="btn-admin btn-admin-secondary btn-block">
                <span class="menu-icon">๐ช</span>
                <span class="menu-text">ุชุณุฌูู ุงูุฎุฑูุฌ</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="admin-main">
        <!-- Admin Header -->
        <header class="admin-header">
            <div class="header-left">
                <button id="sidebarToggle" class="btn-admin btn-admin-secondary">
                    โฐ
                </button>
                <h1 class="admin-title">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</h1>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <span>ูุฑุญุจุงูุ <strong class="user-name">ูุฏูุฑ ุงููุธุงู</strong></span>
                </div>
                <button id="addProductBtn" class="btn-admin btn-admin-primary">
                    โ ุฅุถุงูุฉ ููุชุฌ
                </button>
            </div>
        </header>

        <!-- Products Summary -->
        <section class="admin-cards">
            <div class="admin-card">
                <div class="card-icon">๐น</div>
                <div class="card-value" id="totalProducts">0</div>
                <div class="card-label">ุฅุฌูุงูู ุงูููุชุฌุงุช</div>
            </div>
            <div class="admin-card">
                <div class="card-icon">๐ฆ</div>
                <div class="card-value" id="inStockProducts">0</div>
                <div class="card-label">ููุชุฌุงุช ูุชููุฑุฉ</div>
            </div>
            <div class="admin-card">
                <div class="card-icon">โ๏ธ</div>
                <div class="card-value" id="outOfStockProducts">0</div>
                <div class="card-label">ููุชุฌุงุช ุบูุฑ ูุชููุฑุฉ</div>
            </div>
            <div class="admin-card">
                <div class="card-icon">โญ</div>
                <div class="card-value" id="featuredProducts">0</div>
                <div class="card-label">ููุชุฌุงุช ูููุฒุฉ</div>
            </div>
        </section>

        <!-- Products Actions -->
        <section class="products-actions">
            <div class="action-bar">
                <div class="search-box">
                    <input type="text" id="productSearch" placeholder="ุงุจุญุซ ูู ุงูููุชุฌุงุช..." class="form-control">
                    <span class="search-icon">๐</span>
                </div>
                <div class="action-buttons">
                    <select id="productFilter" class="form-control">
                        <option value="">ุฌููุน ุงูููุชุฌุงุช</option>
                        <option value="in-stock">ูุชููุฑ</option>
                        <option value="out-of-stock">ุบูุฑ ูุชููุฑ</option>
                        <option value="featured">ูููุฒ</option>
                    </select>
                    <button id="exportProducts" class="btn-admin btn-admin-secondary">
                        ๐ฅ ุชุตุฏูุฑ
                    </button>
                    <button id="refreshProducts" class="btn-admin btn-admin-primary">
                        ๐ ุชุญุฏูุซ
                    </button>
                </div>
            </div>
        </section>

        <!-- Products Table -->
        <section class="products-table-section">
            <div class="admin-table">
                <div class="table-header">
                    <h3 class="table-title">ูุงุฆูุฉ ุงูููุชุฌุงุช</h3>
                    <div class="table-actions">
                        <span id="productsCount">0 ููุชุฌ</span>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูููุชุฌ</th>
                                <th>ุงููุฆุฉ</th>
                                <th>ุงูููุฑุฏ</th>
                                <th>ุจูุฏ ุงูููุดุฃ</th>
                                <th>ุงููููุฉ</th>
                                <th>ุงูุญุฏ ุงูุฃุฏูู</th>
                                <th>ุงูุณุนุฑ</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ูููุฒ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="productsTableBody">
                            <!-- Products will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="admin-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addProductForm" class="admin-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName" class="form-label">ุงุณู ุงูููุชุฌ (ุนุฑุจู) *</label>
                            <input type="text" id="productName" name="name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="productNameEn" class="form-label">ุงุณู ุงูููุชุฌ (ุฅูุฌููุฒู) *</label>
                            <input type="text" id="productNameEn" name="nameEn" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="productCategory" class="form-label">ุงููุฆุฉ *</label>
                            <select id="productCategory" name="category" class="form-control" required>
                                <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
                                <option value="ูุฑูุฏ ุญูุฑุงุก">ูุฑูุฏ ุญูุฑุงุก</option>
                                <option value="ูุฑูุฏ ุจูุถุงุก">ูุฑูุฏ ุจูุถุงุก</option>
                                <option value="ูุฑูุฏ ูุฑุฏูุฉ">ูุฑูุฏ ูุฑุฏูุฉ</option>
                                <option value="ุจุงูุงุช">ุจุงูุงุช</option>
                                <option value="ุฒูุงุจู">ุฒูุงุจู</option>
                                <option value="ุชูููุจ">ุชูููุจ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="productSupplier" class="form-label">ุงูููุฑุฏ *</label>
                            <input type="text" id="productSupplier" name="supplier" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="productOrigin" class="form-label">ุจูุฏ ุงูููุดุฃ *</label>
                            <select id="productOrigin" name="origin" class="form-control" required>
                                <option value="">ุงุฎุชุฑ ุงูุจูุฏ</option>
                                <option value="ููููุฏุง">ููููุฏุง</option>
                                <option value="ุงูุฅููุงุฏูุฑ">ุงูุฅููุงุฏูุฑ</option>
                                <option value="ููููุง">ููููุง</option>
                                <option value="ูููููุจูุง">ูููููุจูุง</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="productEmoji" class="form-label">ุฑูุฒ ุงูููุชุฌ</label>
                            <select id="productEmoji" name="emoji" class="form-control">
                                <option value="๐น">๐น ูุฑุฏุฉ ุญูุฑุงุก</option>
                                <option value="๐ธ">๐ธ ูุฑุฏุฉ ุจูุถุงุก</option>
                                <option value="๐ฎ">๐ฎ ูุฑุฏุฉ ูุฑุฏูุฉ</option>
                                <option value="๐">๐ ุจุงูุฉ</option>
                                <option value="๐บ">๐บ ุฒูุจู</option>
                                <option value="๐ท">๐ท ุชูููุจ</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="productQuantity" class="form-label">ุงููููุฉ ุงููุชุงุญุฉ *</label>
                            <input type="number" id="productQuantity" name="quantity" class="form-control" required min="0">
                        </div>
                        <div class="form-group">
                            <label for="productMinOrder" class="form-label">ุงูุญุฏ ุงูุฃุฏูู ููุทูุจ *</label>
                            <input type="number" id="productMinOrder" name="minOrder" class="form-control" required min="1">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="productPrice" class="form-label">ุงูุณุนุฑ (ุฏููุงุฑ) *</label>
                        <input type="number" id="productPrice" name="price" class="form-control" required min="0" step="100">
                    </div>

                    <div class="form-group">
                        <label for="productDescription" class="form-label">ุงููุตู *</label>
                        <textarea id="productDescription" name="description" class="form-control" rows="3" required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="inStock" checked>
                                <span class="checkbox-text">ุงูููุชุฌ ูุชููุฑ</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="featured">
                                <span class="checkbox-text">ููุชุฌ ูููุฒ</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-admin btn-admin-primary">ุฅุถุงูุฉ ุงูููุชุฌ</button>
                        <button type="button" class="btn-admin btn-admin-secondary" onclick="productsManager.closeModal('addProductModal')">ุฅูุบุงุก</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div id="editProductModal" class="admin-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ุชุนุฏูู ุงูููุชุฌ</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editProductForm" class="admin-form">
                    <!-- Same form structure as add product -->
                    <div class="form-actions">
                        <button type="submit" class="btn-admin btn-admin-primary">ุญูุธ ุงูุชุบููุฑุงุช</button>
                        <button type="button" class="btn-admin btn-admin-secondary" onclick="productsManager.closeModal('editProductModal')">ุฅูุบุงุก</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- View Product Modal -->
    <div id="viewProductModal" class="admin-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ุชูุงุตูู ุงูููุชุฌ</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>

    <script src="../js/auth.js"></script>
    <script src="../js/products.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize products manager
            if (typeof productsManager !== 'undefined') {
                productsManager.init();
            }
            
            // Add product button
            document.getElementById('addProductBtn').addEventListener('click', function() {
                productsManager.openModal('addProductModal');
            });
            
            // Modal close buttons
            document.querySelectorAll('.modal-close').forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.admin-modal');
                    modal.classList.remove('active');
                });
            });
        });
    </script>
</body>
</html>